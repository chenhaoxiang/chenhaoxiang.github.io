
﻿<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>[C++]C++栈和队列 - 谙忆-人生之旅</title>

  <meta name="author" content="陈浩翔">

  
  <meta name="description" content="使用标准库的栈和队列时，先包含相关的头文件#include">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://chenhaoxiang.github.io/blog/2015/08/28/C-plus-plusThe-stack-and-queue/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="谙忆-人生之旅" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/jquery1.9.1.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="/javascripts/fonts.googleapis.com.css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/javascripts/fonts.googleapis.com.css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">谙忆-人生之旅</a></h1>
  
    <h2>学不止步,梦不停歇-陈浩翔</h2>
  
</hgroup>

</header>
  <nav role="navigation">﻿<ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com.hk/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="chenhaoxiang.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="站内谷歌搜索"/>
  </fieldset>
</form>
  
﻿<ul class="main-navigation">
  <li><a href="/">首页</a></li>
  <li><a href="/blog/archives">列表</a></li>
  <li><a href="/reward">打赏名单</a></li>
  <li><a href="/aboutme">关于</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">[C++]C++栈和队列</h1>
    
    
      <p class="meta">
        ﻿




2015年08月28日
        
      </p>
    
  </header>


<div class="entry-content"><p>c++栈和队列的操作以及实例</p>

<!-- more -->


<hr />

<p>使用标准库的栈和队列时，先包含相关的头文件</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#include&lt;stack&gt;
</span><span class='line'>#include&lt;queue&gt;</span></code></pre></td></tr></table></div></figure>


<p>定义栈如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>stack&lt;int&gt; stk;</span></code></pre></td></tr></table></div></figure>


<p>定义队列如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>queue&lt;int&gt; q;</span></code></pre></td></tr></table></div></figure>


<p>栈提供了如下的操作</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>s.empty()               如果栈为空返回true，否则返回false  
</span><span class='line'>s.size()                返回栈中元素的个数  
</span><span class='line'>s.pop()                 删除栈顶元素但不返回其值  
</span><span class='line'>s.top()                 返回栈顶的元素，但不删除该元素  
</span><span class='line'>s.push()                在栈顶压入新元素  </span></code></pre></td></tr></table></div></figure>


<p>队列提供了下面的操作</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>q.empty()               如果队列为空返回true，否则返回false  
</span><span class='line'>q.size()                返回队列中元素的个数  
</span><span class='line'>q.pop()                 删除队列首元素但不返回其值  
</span><span class='line'>q.front()               返回队首元素的值，但不删除该元素  
</span><span class='line'>q.push()                在队尾压入新元素  
</span><span class='line'>q.back()                返回队列尾元素的值，但不删除该元素  </span></code></pre></td></tr></table></div></figure>


<p>c++stack(堆栈）</p>

<p>它是一个容器的改编，它实现了一个先进后出的数据结构（FILO）</p>

<p>使用该容器时需要包含#include头文件；</p>

<p>定义stack对象的示例代码如下：</p>

<p>stacks1;</p>

<p>stacks2;</p>

<p>stack的基本操作有：</p>

<p>1.入栈：如s.push(x);</p>

<p>2.出栈:如 s.pop().注意：出栈操作只是删除栈顶的元素，并不返回该元素。</p>

<p>3.访问栈顶：如s.top();</p>

<p>4.判断栈空：如s.empty().当栈空时返回true。</p>

<p>5.访问栈中的元素个数，如s.size（）;</p>

<p>下面举一个简单的例子：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'>  <span class="cp">#include&lt;iostream&gt;  </span>
</span><span class='line'>    <span class="cp">#include&lt;stack&gt;  </span>
</span><span class='line'>    <span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">stack</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="n">s</span><span class="p">;</span><span class="c1">//定义一个栈  </span>
</span><span class='line'>        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>            <span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
</span><span class='line'>        <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">s</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lf</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">s</span><span class="p">.</span><span class="n">top</span><span class="p">());</span>
</span><span class='line'>            <span class="n">s</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">&quot;栈内的元素的个数为：&quot;</span><span class="o">&lt;&lt;</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>栈是限定仅在表尾进行插入或删除操作的线性表，<br/>
因此表尾端成为栈顶，相应的，表头端成为栈底，不含有任何元素的栈称为空栈。<br/>
栈的修改遵循后进先出的原则，因此栈又称为后进先出的线性表，简称LIFO结构。<br/>
栈一般采用数组作为其存储结构，这样做可以避免使用指针，简化程序<br/>
，当然数组需要预先声明静态数据区的大小，但这不是问题，因为即便是频繁进出入栈操作，<br/>
任何时刻栈元素的实际个数也不会很多，为栈预留一个足够大但又不占用太多空间并不是很困难，<br/>
如果不能做到这一点，那么节省内存的方法就是使用链表存储栈。</p>

<p>线性表实现栈的基本操作</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="cp">#include&lt;iostream&gt;  </span>
</span><span class='line'><span class="cp">#include&lt;cstdio&gt;  </span>
</span><span class='line'><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class='line'><span class="k">typedef</span> <span class="k">struct</span> <span class="n">Stacknode</span><span class="c1">//定义链式栈的结构体  </span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">data</span><span class="p">;</span><span class="c1">//数据域  </span>
</span><span class='line'>    <span class="n">Stacknode</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span><span class="c1">//下一节点的指针域  </span>
</span><span class='line'><span class="p">}</span><span class="n">Stacknode</span><span class="p">,</span><span class="o">*</span><span class="n">Stack</span><span class="p">;</span>
</span><span class='line'><span class="c1">//初始化一个链式栈（返回一个链式栈的头节点）  </span>
</span><span class='line'><span class="n">Stack</span> <span class="nf">InitStack</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">Stack</span> <span class="n">stack</span><span class="o">=</span><span class="p">(</span><span class="n">Stack</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Stacknode</span><span class="p">));</span>
</span><span class='line'>    <span class="n">stack</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">stack</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//入栈  </span>
</span><span class='line'><span class="kt">void</span> <span class="nf">Push</span><span class="p">(</span><span class="n">Stack</span> <span class="n">stack</span><span class="p">,</span><span class="kt">int</span> <span class="n">newData</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">//判断是否为空  </span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">stack</span><span class="o">==</span><span class="nb">NULL</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈未初始化，请初始化以后再使用</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">return</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//找到最后一个节点  </span>
</span><span class='line'>   <span class="n">Stacknode</span> <span class="o">*</span><span class="n">lastnode</span><span class="o">=</span><span class="n">stack</span><span class="p">;</span>
</span><span class='line'>   <span class="k">while</span><span class="p">(</span><span class="n">lastnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>    <span class="n">lastnode</span><span class="o">=</span><span class="n">lastnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>   <span class="n">lastnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">=</span><span class="p">(</span><span class="n">Stacknode</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">Stacknode</span><span class="o">*</span><span class="p">));</span>
</span><span class='line'>   <span class="n">lastnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">data</span><span class="o">=</span><span class="n">newData</span><span class="p">;</span>
</span><span class='line'>   <span class="n">lastnode</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span>
</span><span class='line'>   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;入栈成功！</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">//出栈  </span>
</span><span class='line'><span class="kt">int</span> <span class="nf">Pop</span><span class="p">(</span><span class="n">Stack</span> <span class="n">stack</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">//判断栈是否为空  </span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">stack</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;栈为空，无法出栈</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="c1">//-1只是一个自定义的错误代码  </span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//找到最后一个节点的钱一个节点  </span>
</span><span class='line'>    <span class="c1">//tempNode:最后一个节点的前一个节点  </span>
</span><span class='line'>    <span class="n">Stacknode</span> <span class="o">*</span><span class="n">tempNode</span><span class="o">=</span><span class="n">stack</span><span class="p">;</span>
</span><span class='line'>    <span class="k">while</span><span class="p">(</span><span class="n">tempNode</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">tempNode</span><span class="o">=</span><span class="n">tempNode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">data</span><span class="o">=</span><span class="n">tempNode</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">;</span>
</span><span class='line'>    <span class="n">free</span><span class="p">(</span><span class="n">tempNode</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">);</span>
</span><span class='line'>    <span class="n">tempNode</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">data</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">Stack</span> <span class="n">stack</span><span class="o">=</span><span class="n">InitStack</span><span class="p">();</span>
</span><span class='line'>    <span class="n">Push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span><span class="c1">//3进栈  </span>
</span><span class='line'>    <span class="n">Push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span><span class="c1">//4进栈  </span>
</span><span class='line'>    <span class="n">Push</span><span class="p">(</span><span class="n">stack</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span><span class="c1">//5进栈  </span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">Pop</span><span class="p">(</span><span class="n">stack</span><span class="p">));</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">Pop</span><span class="p">(</span><span class="n">stack</span><span class="p">));</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">Pop</span><span class="p">(</span><span class="n">stack</span><span class="p">));</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">Pop</span><span class="p">(</span><span class="n">stack</span><span class="p">));</span><span class="c1">//第4次出栈，应该出错  </span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>queue模版类的定义在<queue>头文件中。<br/>
queue与stack模版非常类似，queue模版也需要定义两个模版参数，<br/>
一个是元素类型，一个是容器类型，元素类型是必要的，<br/>
容器类型是可选的，默认为dqueue类型。</p>

<p>定义queue对象的示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="n">queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">q1</span><span class="p">;</span>
</span><span class='line'><span class="n">queue</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="n">q2</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>queue的基本操作有：<br/>
1.入队：如q.push(x):将x元素接到队列的末端；<br/>
2.出队：如q.pop() 弹出队列的第一个元素，并不会返回元素的值；<br/>
3,访问队首元素：如q.front()<br/>
4,访问队尾元素，如q.back();<br/>
5,访问队中的元素个数，如q.size();<br/>
二.优先队列<br/>
在<queue>头文件中，还定义了一个非常有用的模版类priority_queue<br/>
(优先队列），优先队列与队列的差别在于优先队列不是按照入队的顺序出队，<br/>
而是按照队列中元素的优先权顺序出队（默认为大者优先，也可以通过指定算子来指定自己的优先顺序）默认是一个大根堆。<br/>
priority_queue模版类有三个模版参数，元素类型，容器类型，比较算子。<br/>
其中后两个都可以省略，默认容器为vector，默认算子为less，即小的往前排，大的往后排（出队时序列尾的元素出队）。</p>

<p>定义priority_queue对象的示例代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="n">priority_queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">q1</span><span class="p">;</span>
</span><span class='line'><span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="n">q2</span><span class="p">;</span>
</span><span class='line'><span class="n">priority_queue</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="err">，</span><span class="n">greater</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="n">q3</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>//定义小的先出队<br/>
priority_queue的基本操作均与queue相同<br/>
初学者在使用priority_queue时，最困难的可能就是如何定义比较算子了。<br/>
如果是基本数据类型，或已定义了比较运算符的类，可以直接用STL的less算子和greater算子——默认为使用less算子，<br/>
即小的往前排，大的先出队。如果要定义自己的比较算子，方法有多种，<br/>
这里介绍其中的一种：重载比较运算符。优先队列试图将两个元素x和y代入比较运算符<br/>
(对less算子，调用x&lt;y，对greater算子，调用x>y)，若结果为真，则x排在y前面，y将先于x出队，反之，则将y排在x前面，x将先出队。</p>

<p>看下面这个简单的示例：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="cp">#include&lt;iostream&gt;  </span>
</span><span class='line'><span class="cp">#include&lt;queue&gt;  </span>
</span><span class='line'><span class="cp">#include&lt;stdlib.h&gt;  </span>
</span><span class='line'><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">T</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">;</span>
</span><span class='line'>    <span class="n">T</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="kt">int</span> <span class="n">b</span><span class="p">,</span><span class="kt">int</span> <span class="n">c</span><span class="p">)</span><span class="o">:</span><span class="n">x</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="n">y</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="n">z</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'><span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span><span class="n">t1</span><span class="p">,</span><span class="k">const</span> <span class="n">T</span><span class="o">&amp;</span><span class="n">t2</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">t1</span><span class="p">.</span><span class="n">z</span><span class="o">&lt;</span><span class="n">t2</span><span class="p">.</span><span class="n">z</span><span class="p">;</span> <span class="kt">int</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="n">t</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="o">&gt;</span><span class="n">q</span><span class="p">;</span>
</span><span class='line'>    <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
</span><span class='line'>    <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span>
</span><span class='line'>    <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">));</span>
</span><span class='line'>    <span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">));</span>
</span><span class='line'>    <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">T</span> <span class="n">t</span><span class="o">=</span><span class="n">q</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span><span class='line'>        <span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span><span class='line'>        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">t</span><span class="p">.</span><span class="n">x</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>栈的应用</p>

<p>①数制转换：</p>

<p>将一个非负的十进制整数N转换为另一个等价的基为B的B进制数的问题，很容易通过"除B取余法"来解决。</p>

<p>【例】将十进制数13转化为二进制数。<br/>
解答：按除2取余法，得到的余数依次是1、0、1、1，则十进制数转化为二进制数为1101。<br/>
分析：由于最先得到的余数是转化结果的最低位，最后得到的余数是转化结果的最高位，因此很容易用栈来解决。</p>

<p>具体算法如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='C++'><span class='line'><span class="cp">#include &lt;STACK&gt;    </span><span class="c1">//C++中使用栈要包含的头文件</span>
</span><span class='line'><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span><span class="c1">//这个也是要加的</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">conversion</span><span class="p">(</span><span class="kt">int</span> <span class="n">N</span><span class="p">,</span><span class="kt">int</span> <span class="n">B</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span><span class="c1">//假设N是非负的十进制整数，输出等值的B进制数</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">S</span><span class="p">;</span>        <span class="c1">//创建一个元素类型为int型的空栈</span>
</span><span class='line'>  <span class="k">while</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">S</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">N</span><span class="o">%</span><span class="n">B</span><span class="p">);</span> <span class="c1">//将转换后的数值，从底位到高位开始入栈</span>
</span><span class='line'>    <span class="n">N</span><span class="o">=</span><span class="n">N</span><span class="o">/</span><span class="n">B</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">S</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span><span class="c1">//栈非空时退栈输出</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="n">S</span><span class="p">.</span><span class="n">top</span><span class="p">());</span>    <span class="c1">//打印栈顶元素</span>
</span><span class='line'>    <span class="n">S</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>    <span class="c1">//将栈顶元素出栈</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">conversion</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>②表达式求值</p>

<p>表达式求值是程序设计语言编译中的一个最基本的问题。我们讨论一种简单直观的方法“算法优先级法”</p>

<p>算术四则运算的规则：</p>

<p>1、从左到右</p>

<p>2、先乘除后加减</p>

<p>3、先括号内，后括号外<br/>
【例】4 + 2*3 -10/5 每一步的计算顺序应该是：</p>

<p>4 + 2*3 -10/5 = 4 + 6 - 10/5 = 10 - 10/5 = 10 - 2 = 8</p>

<p>算法步骤：（我们假设表达式以字符‘#’结尾）</p>

<p>（1）首先，创建空运算符栈OPTR，将表达式起始符‘#’压入栈底，创建空操作数栈OPND</p>

<p>（2）依次读入表达式中的每个字符，若是操作数则进操作数栈，若是运算符则和运算符栈顶的运算符比较优先级后，做如下相应操作：</p>

<p>1.如果栈顶的运算符优先级较低，则把新的运算符压入OPTR；执行（2）</p>

<p>2.如果栈顶的运算符优先级较高，则将其 和 操作数栈的两个栈顶元素 退栈，计算3个元素组成的表达式的值，再压入操作数栈，然后继续判断；</p>

<p>3.如果栈顶的运算符优先级相等（除了#符外，只有‘(’和‘)’是相等的），则将‘（’出栈；执行（2）</p>

<p>（3）直到整个表达式求值完毕（即OPTR栈顶元素和当前读入的字符均为‘#’）</p>

<p>具体算法实现：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="cp">#include &lt;iostream&gt;   </span>
</span><span class='line'><span class="cp">#include &lt;stack&gt;</span><span class="c1">//C++中使用栈要包含的头文件</span>
</span><span class='line'>
</span><span class='line'><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//符号数组   </span>
</span><span class='line'><span class="kt">char</span> <span class="n">symbol</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="sc">&#39;+&#39;</span><span class="p">,</span> <span class="sc">&#39;-&#39;</span><span class="p">,</span> <span class="sc">&#39;*&#39;</span><span class="p">,</span> <span class="sc">&#39;/&#39;</span><span class="p">,</span> <span class="sc">&#39;(&#39;</span><span class="p">,</span> <span class="sc">&#39;)&#39;</span><span class="p">,</span> <span class="sc">&#39;#&#39;</span><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//栈内元素的优先级   </span>
</span><span class='line'><span class="kt">int</span> <span class="n">in</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//栈外元素的优先级   </span>
</span><span class='line'><span class="kt">int</span> <span class="n">out</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* </span>
</span><span class='line'><span class="cm"> * 通过符号字符获取它的数组下标 </span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kt">int</span> <span class="nf">get</span><span class="p">(</span><span class="kt">char</span> <span class="n">c</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">switch</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>  <span class="k">case</span> <span class="sc">&#39;+&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="sc">&#39;-&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="sc">&#39;*&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span>  <span class="sc">&#39;/&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">3</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="sc">&#39;(&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">4</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="sc">&#39;)&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">5</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="sc">&#39;#&#39;</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">6</span><span class="p">;</span>
</span><span class='line'>  <span class="k">default</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">6</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* </span>
</span><span class='line'><span class="cm"> * 比较栈内运算符c1和栈外运算符c2的优先级 </span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kt">char</span> <span class="nf">precede</span><span class="p">(</span><span class="kt">char</span> <span class="n">c1</span><span class="p">,</span> <span class="kt">char</span> <span class="n">c2</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">c1</span><span class="p">);</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">c2</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">out</span><span class="p">[</span><span class="n">i2</span><span class="p">])</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="sc">&#39;&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">in</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">out</span><span class="p">[</span><span class="n">i2</span><span class="p">])</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="sc">&#39;&lt;&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="sc">&#39;=&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* </span>
</span><span class='line'><span class="cm"> * 计算基本表达式的值 </span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kt">int</span> <span class="nf">figure</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">theta</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">switch</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">;</span>
</span><span class='line'>  <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">;</span>
</span><span class='line'>  <span class="k">default</span><span class="o">:</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/* </span>
</span><span class='line'><span class="cm"> * 计算表达式的值 </span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kt">int</span> <span class="nf">EvaluateExpression</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">exp</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">OPND</span><span class="p">;</span> <span class="c1">//操作数栈   </span>
</span><span class='line'>  <span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">OPTR</span><span class="p">;</span> <span class="c1">//运算符栈   </span>
</span><span class='line'>  <span class="n">OPTR</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="sc">&#39;#&#39;</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">int</span> <span class="n">flag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">//表示正负号 1,表示正 0,表示负   </span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="sc">&#39;+&#39;</span> <span class="o">==</span> <span class="o">*</span><span class="n">exp</span> <span class="o">||</span> <span class="sc">&#39;-&#39;</span> <span class="o">==</span> <span class="o">*</span><span class="n">exp</span> <span class="o">||</span> <span class="sc">&#39;(&#39;</span> <span class="o">==</span> <span class="o">*</span><span class="n">exp</span> <span class="o">||</span> <span class="n">isdigit</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span><span class="p">)))</span>
</span><span class='line'>  <span class="p">{</span><span class="c1">//如果不是以&#39;+&#39;、&#39;-&#39;、&#39;(&#39;或者数字的其中一个开头，则表达式错误  </span>
</span><span class='line'>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;表达式出错1&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="sc">&#39;+&#39;</span> <span class="o">==</span> <span class="o">*</span><span class="n">exp</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">exp</span><span class="o">++</span><span class="p">;</span><span class="c1">//指向下一个字符   </span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="sc">&#39;-&#39;</span> <span class="o">==</span> <span class="o">*</span><span class="n">exp</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">flag</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="n">exp</span><span class="o">++</span><span class="p">;</span><span class="c1">//指向下一个字符   </span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">OPTR</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>                <span class="c1">//获取运算符栈顶元素在数组的下标号</span>
</span><span class='line'>  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span> <span class="o">||</span> <span class="n">symbol</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;#&#39;</span><span class="p">)</span> <span class="c1">//如果栈顶元素是&#39;#&#39;且当前元素为空结束计算 </span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">isdigit</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span><span class="p">))</span>
</span><span class='line'>    <span class="p">{</span><span class="c1">//如果当前元素是数字，计算整个操作数的值，然后压入操作数栈</span>
</span><span class='line'>      <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>      <span class="k">while</span><span class="p">(</span><span class="n">isdigit</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span><span class="p">))</span>
</span><span class='line'>      <span class="p">{</span><span class="c1">//计算操作数的值</span>
</span><span class='line'>        <span class="n">sum</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="p">(</span><span class="o">*</span><span class="n">exp</span> <span class="o">-</span> <span class="sc">&#39;0&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="n">exp</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">flag</span><span class="p">)</span>    <span class="c1">//如果是负数</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>        <span class="n">sum</span> <span class="o">=</span> <span class="o">-</span><span class="n">sum</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="n">OPND</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span>
</span><span class='line'>      <span class="n">flag</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span>
</span><span class='line'>    <span class="p">{</span><span class="c1">//如果不是数字</span>
</span><span class='line'>      <span class="k">switch</span><span class="p">(</span><span class="n">precede</span><span class="p">(</span><span class="n">symbol</span><span class="p">[</span><span class="n">OPTR</span><span class="p">.</span><span class="n">top</span><span class="p">()],</span> <span class="o">*</span><span class="n">exp</span><span class="p">))</span><span class="c1">//比较栈顶运算符和当前运算符的优先级</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>      <span class="k">case</span> <span class="sc">&#39;&gt;&#39;</span> <span class="o">:</span>
</span><span class='line'>        <span class="n">b</span> <span class="o">=</span> <span class="n">OPND</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span><span class='line'>        <span class="n">OPND</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span><span class='line'>        <span class="n">a</span> <span class="o">=</span> <span class="n">OPND</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span><span class='line'>        <span class="n">OPND</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span><span class='line'>        <span class="n">theta</span> <span class="o">=</span> <span class="n">OPTR</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span><span class='line'>        <span class="n">OPTR</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span><span class='line'>        <span class="n">OPND</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">figure</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">b</span><span class="p">));</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="sc">&#39;&lt;&#39;</span> <span class="o">:</span>
</span><span class='line'>        <span class="n">OPTR</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span><span class="p">));</span>
</span><span class='line'>        <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="n">exp</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">case</span> <span class="sc">&#39;=&#39;</span> <span class="o">:</span>
</span><span class='line'>        <span class="n">OPTR</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
</span><span class='line'>        <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">exp</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>          <span class="n">exp</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="n">index</span> <span class="o">=</span> <span class="n">OPTR</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">OPND</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">char</span> <span class="n">c</span><span class="p">[</span><span class="mi">50</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
</span><span class='line'>  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;请输入一个表达式: &quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="n">cin</span><span class="p">.</span><span class="n">getline</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span>
</span><span class='line'>  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">EvaluateExpression</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>队列的应用</p>

<p>舞伴问题</p>

<p>1、问题叙述<br/>
假设在周末舞会上，男士们和女士们进入舞厅时，各自排成一队。跳舞开始时，依次从男队和女队的队头上各出一人配成舞伴。若两队初始人数不相同，则较长的那一队中未配对者，等待下一轮舞曲。现要求写一算法模拟上述舞伴配对问题。<br/>
2、问题分析<br/>
先入队的男士或女士亦先出队配成舞伴。因此该问题具体有典型的先进先出特性，可用队列作为算法的数据结构。<br/>
在算法中，假设男士和女士的记录存放在一个数组中作为输入，然后依次扫描该数组的各元素，并根据性别来决定是进入男队还是女队。当这两个队列构造完成之后，依次将两队当前的队头元素出队来配成舞伴，直至某队列变空为止。此时，若某队仍有等待配对者，算法输出此队列中等待者的人数及排在队头的等待者的名字，他（或她）将是下一轮舞曲开始时第一个可获得舞伴的人。<br/>
3、具体算法及相关的类型定义</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
</pre></td><td class='code'><pre><code class='c++'><span class='line'><span class="cp">#include &lt;queue&gt; </span>
</span><span class='line'><span class="c1">//C++中使用队列要包含的头文件</span>
</span><span class='line'><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
</span><span class='line'><span class="k">typedef</span> <span class="k">struct</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
</span><span class='line'>  <span class="kt">char</span> <span class="n">sex</span><span class="p">;</span> <span class="c1">//性别，&#39;F&#39;表示女性，&#39;M&#39;表示男性</span>
</span><span class='line'><span class="p">}</span><span class="n">Person</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">DancePartner</span><span class="p">(</span><span class="n">Person</span> <span class="n">dancer</span><span class="p">[],</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span><span class="c1">//结构数组dancer中存放跳舞的男女，num是跳舞的人数。</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">Person</span> <span class="n">p</span><span class="p">;</span>
</span><span class='line'>  <span class="n">queue</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">Mdancers</span><span class="p">,</span><span class="n">Fdancers</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span><span class="c1">//依次将跳舞者依其性别入队</span>
</span><span class='line'>    <span class="n">p</span><span class="o">=</span><span class="n">dancer</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">sex</span><span class="o">==</span><span class="sc">&#39;F&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="n">Fdancers</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="p">);</span> <span class="c1">//排入女队</span>
</span><span class='line'>    <span class="k">else</span>
</span><span class='line'>      <span class="n">Mdancers</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="p">);</span> <span class="c1">//排入男队</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;The dancing partners are: </span><span class="se">\n</span><span class="s"> </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">Fdancers</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span><span class="o">||</span><span class="n">Mdancers</span><span class="p">.</span><span class="n">empty</span><span class="p">()))</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="c1">//依次输入男女舞伴名</span>
</span><span class='line'>    <span class="n">p</span><span class="o">=</span><span class="n">Fdancers</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>        <span class="c1">//获取女队第一人</span>
</span><span class='line'>    <span class="n">Fdancers</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>            <span class="c1">//出队</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>    <span class="c1">//打印出队女士名</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">p</span><span class="o">=</span><span class="n">Mdancers</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>        <span class="c1">//获取男队第一人</span>
</span><span class='line'>    <span class="n">Mdancers</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>            <span class="c1">//出队</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>    <span class="c1">//打印出队男士名</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Fdancers</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
</span><span class='line'>  <span class="p">{</span><span class="c1">//输出女士剩余人数及队头女士的名字</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s"> There are %d women waitin for the next round.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">Fdancers</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
</span><span class='line'>    <span class="n">p</span><span class="o">=</span><span class="n">Fdancers</span><span class="p">.</span><span class="n">front</span><span class="p">();</span> <span class="c1">//取队头</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s will be the first to get a partner. </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Mdancers</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
</span><span class='line'>  <span class="p">{</span><span class="c1">//输出男队剩余人数及队头者名字</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s"> There are%d men waiting for the next round.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">Mdancers</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
</span><span class='line'>    <span class="n">p</span><span class="o">=</span><span class="n">Mdancers</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s will be the first to get a partner.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;There is not person in the queue!&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span><span class="c1">//DancerPartners</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">Person</span> <span class="n">p</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="sc">&#39;F&#39;</span><span class="p">},{</span><span class="s">&quot;B&quot;</span><span class="p">,</span><span class="sc">&#39;F&#39;</span><span class="p">},{</span><span class="s">&quot;C&quot;</span><span class="p">,</span><span class="sc">&#39;M&#39;</span><span class="p">},{</span><span class="s">&quot;D&quot;</span><span class="p">,</span><span class="sc">&#39;M&#39;</span><span class="p">}</span> <span class="p">};</span>
</span><span class='line'>  <span class="n">DancePartner</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>本文章由<a href="http://chenhaoxiang.cn/">[谙忆]</a>编写， 所有权利保留。
欢迎转载，分享是进步的源泉。</p>

<blockquote cite='陈浩翔'>
<p background-color='#D3D3D3'>转载请注明出处：<a href='http://chenhaoxiang.cn'><font color="green">http://chenhaoxiang.cn</font></a><br><br>
本文源自<strong>【<a href='http://chenhaoxiang.cn' target='_blank'>人生之旅_谙忆的博客</a>】</strong></p>
</blockquote>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">陈浩翔</span></span>

      ﻿




2015年08月28日
      

<span class="categories">
  
    <a class='category' href='/blog/categories/c-plus-plus/'>c-plus-plus</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  

	﻿
<div id="cyReward" role="cylabs" data-use="reward" sid="/blog/2015/08/28/C-plus-plusThe-stack-and-queue" style="margin-bottom: 10px; text-align: center;"></div>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style_24x24" style="float: right;">
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a href="http://www.jiathis.com/share?uid=2133017" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=2133017" charset="utf-8"></script>
<!-- JiaThis Button END -->


	
		﻿<!--PC版-->

<div id="SOHUCS" sid="/blog/2015/08/28/C-plus-plusThe-stack-and-queue"></div>
<script charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/changyan.js" ></script>
<script type="text/javascript">
window.changyan.api.config({
appid: 'cyt09iKYx',
conf: 'prod_76c7228396087e1af80f06cfc0a912c4'
});
</script>

<script type="text/javascript" charset="utf-8" src="https://changyan.itc.cn/js/lib/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="https://changyan.sohu.com/js/changyan.labs.https.js?appid=cyt09iKYx"></script>
	

</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/08/27/HDOJ-1175-lianliankan-DFS/" title="Previous Post: HDOJ 1175 连连看 DFS">&laquo; HDOJ 1175 连连看 DFS</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/09/07/HDOJ-1020-Encoding/" title="Next Post: HDOJ1020 Encoding">HDOJ1020 Encoding &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    ﻿<section>
  <h1>最新</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/09/09/Shiro-went-from-white-to-great-3/">【Shiro】Shiro从小白到大神(三)-权限认证(授权)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/08/Shiro-went-from-white-to-great-2/">【Shiro】Shiro从小白到大神(二)-Subject认证结合MySQL</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/07/Shiro-went-from-white-to-great-1/">【Shiro】Shiro从小白到大神(一)-Shiro入门</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/05/Flow-insert-extract-operator-and-type-conversion/">【C++】流插入、提取运算符和类型转换</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/04/Member-functions-overload-binary-and-unary-operators/">【C++】成员函数重载二元和一元运算符</a>
      </li>
    
  </ul>
</section>

<section>
  <script type="text/javascript" src="//rf.revolvermaps.com/0/0/6.js?i=59ilglu8mky&amp;m=0&amp;c=00fff6&amp;cr1=ff0000&amp;f=ubuntu&amp;l=0" async="async">
  </script>
</section>
﻿
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/acm-c/'>acm-c (12)</a></li>
<li class='category'><a href='/blog/categories/algorithm/'>algorithm (3)</a></li>
<li class='category'><a href='/blog/categories/android/'>android (1)</a></li>
<li class='category'><a href='/blog/categories/c-plus-plus/'>c-plus-plus (24)</a></li>
<li class='category'><a href='/blog/categories/cocos2d-x/'>cocos2d-x (10)</a></li>
<li class='category'><a href='/blog/categories/java/'>java (6)</a></li>
<li class='category'><a href='/blog/categories/other/'>other (3)</a></li>
<li class='category'><a href='/blog/categories/shiro/'>shiro (3)</a></li>
<li class='category'><a href='/blog/categories/test/'>test (1)</a></li>

  </ul>
</section>

<section>
  <h1>GitHub</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/chenhaoxiang">@chenhaoxiang</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'chenhaoxiang',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




﻿
	<section>
<h1>友情链接</h1>
	<ul>
	<li>
        <a href="http://chenhaoxiang.cn" target="_blank">本站已停更,请访问该网站</a>
		</li>
        <li>
        <a href="http://blog.csdn.net/qq_26525215" target="_blank">大学之旅_谙忆</a>
		</li>
		<li>
        <a href="http://blog.csdn.net/marksinoberg" target="_blank">纯臻</a>
		</li>
		<li>
		<a href="http://blog.csdn.net/u013097262" target="_blank">Dream_M</a>
		</li>
		<li>
		<a href="https://bbs.ksyun.com/forum.php" target="_blank">金山云</a>
		</li>
</ul>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - 陈浩翔 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1261875079'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1261875079%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
  <script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

</p>

</footer>
  











  ﻿<script type="text/javascript" src="http://arrow.scrolltotop.com/arrow62.js"></script>
<noscript>Not seeing a <a href="http://www.scrolltotop.com/">Scroll to Top Button</a>? Go to our FAQ page for more info.</noscript>

</body>
</html>
